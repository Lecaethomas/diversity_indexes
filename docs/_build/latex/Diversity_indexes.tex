%% Generated by Sphinx.
\def\sphinxdocclass{article}
\documentclass[letterpaper,10pt,english]{article}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Table of Contents}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}


        \usepackage{graphicx}
    
    

\title{Diversity Indexes}
\date{Apr 15, 2023}
\release{1.0.0}
\author{Leca√© Thomas - INRAE - ODR}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}

        \begin{titlepage}
            \centering
            \includegraphics[width = 60mm]{logo.png}\\[8ex]
            \vspace{1cm}
            {\Huge\bfseries Diversity Indexes \par}
            \vspace{1cm}
            {\Large User Manual \par}
            \vspace{1cm}
            {\Large Author : LECAE Thomas\\[4ex]}
            \vfill
            {\large \today\par}
        \end{titlepage}
    
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxstepscope


\chapter{code}
\label{\detokenize{modules:code}}\label{\detokenize{modules::doc}}
\sphinxstepscope


\section{compute\_indexes module}
\label{\detokenize{compute_indexes:module-compute_indexes}}\label{\detokenize{compute_indexes:compute-indexes-module}}\label{\detokenize{compute_indexes::doc}}\index{module@\spxentry{module}!compute\_indexes@\spxentry{compute\_indexes}}\index{compute\_indexes@\spxentry{compute\_indexes}!module@\spxentry{module}}\index{compute\_indexes\_() (in module compute\_indexes)@\spxentry{compute\_indexes\_()}\spxextra{in module compute\_indexes}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{compute_indexes:compute_indexes.compute_indexes_}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{compute\_indexes.}}\sphinxbfcode{\sphinxupquote{compute\_indexes\_}}}{\emph{\DUrole{n}{polygons}}, \emph{\DUrole{n}{src}}, \emph{\DUrole{n}{output\_dir}}, \emph{\DUrole{n}{output\_name}}}{}
\pysigstopsignatures
\sphinxAtStartPar
This function orchestrate the use of the indexes functions (defined in indexes\_func.py)
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{polygons}} \textendash{} Vectorial data read by geopandas/shapely

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{src}} \textendash{} raster data read by rasterio

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{output\_dir}} \textendash{} the directory in which to save the output vectorial data (the code get it from the .json param file)

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{output\_name}} \textendash{} the name of the output layer (the code get it from the .json param file)

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
nothing but save the vectorial data as shapefile in the output directory

\end{description}\end{quote}

\end{fulllineitems}


\sphinxstepscope


\section{indexes\_func module}
\label{\detokenize{indexes_func:module-indexes_func}}\label{\detokenize{indexes_func:indexes-func-module}}\label{\detokenize{indexes_func::doc}}\index{module@\spxentry{module}!indexes\_func@\spxentry{indexes\_func}}\index{indexes\_func@\spxentry{indexes\_func}!module@\spxentry{module}}\index{calc\_contag() (in module indexes\_func)@\spxentry{calc\_contag()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_contag}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_contag}}}{\emph{\DUrole{n}{masked}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate the contagion index of a mask. This is based on the proportion of the patches in the mask divided by the total area
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{masked}} \textendash{} The mask to calculate the contagion index for

\sphinxlineitem{Returns}
\sphinxAtStartPar
The contagion index of the mask as a function of the area of the image and the proportion

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_edge\_diversity\_index() (in module indexes\_func)@\spxentry{calc\_edge\_diversity\_index()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_edge_diversity_index}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_edge\_diversity\_index}}}{\emph{\DUrole{n}{edges}}, \emph{\DUrole{n}{src}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate the diversity index for the edges of the polygon.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{edges}} \textendash{} A multilinestring shapely to be used for processing.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{src}} \textendash{} the Landcover raster read by rasterio

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Diversity Index of the polygon

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_edges() (in module indexes\_func)@\spxentry{calc\_edges()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_edges}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_edges}}}{\emph{\DUrole{n}{polygon}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Compute edges of a polygon
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{polygon}} \textendash{} a shapely polygon projected in a geographical coordinate system (meter unit)

\sphinxlineitem{Returns}
\sphinxAtStartPar
a linestring representing the contours of the original polygon

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_iji() (in module indexes\_func)@\spxentry{calc\_iji()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_iji}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_iji}}}{\emph{\DUrole{n}{masked}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate the number of neighboring pixels with different landcover classes. This is used to calculate the i. i. d.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{masked}} \textendash{} the Landcover raster read by rasterio

\sphinxlineitem{Returns}
\sphinxAtStartPar
The number of neighboring pixels with different landcover classes in the grid as a 1x1 np

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_ldi() (in module indexes\_func)@\spxentry{calc\_ldi()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_ldi}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_ldi}}}{\emph{\DUrole{n}{masked}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate the LDI of a set of cells. This is a measure of how much the cell is in the data set but not the area of the cell that is used to calculate the distance between the cell and its neighboring cells
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{masked}} \textendash{} A 2D NumPy array with shape ( nb\_cells num\_cells )

\sphinxlineitem{Returns}
\sphinxAtStartPar
An LDI value between 0 and 1 ( inclusive ). The value is calculated as the standard deviation divided by the mean

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_lsi() (in module indexes\_func)@\spxentry{calc\_lsi()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_lsi}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_lsi}}}{\emph{\DUrole{n}{masked}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate LSI for a landcover raster. This is based on the proportion of pixels in each row and column that have landcover.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{masked}} \textendash{} The landcover raster to calculate lsi for.

\sphinxlineitem{Returns}
\sphinxAtStartPar
The LSI for the raster as a 1 \sphinxhyphen{} ( var ( row ) + var ( column ))

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_most\_common\_landcover\_class() (in module indexes\_func)@\spxentry{calc\_most\_common\_landcover\_class()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_most_common_landcover_class}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_most\_common\_landcover\_class}}}{\emph{\DUrole{n}{edges}}, \emph{\DUrole{n}{src}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate the most common landcover class for a shapely Polygon. This is used to calculate the most frequently used landcover class for a shapely Polygon
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{edges}} \textendash{} A multilinestring shapely to be used for processing.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{src}} \textendash{} the Landcover raster read by rasterio

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
A tuple containing the mode and the number of pixels

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_neg\_buf\_edges() (in module indexes\_func)@\spxentry{calc\_neg\_buf\_edges()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_neg_buf_edges}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_neg\_buf\_edges}}}{\emph{\DUrole{n}{polygon}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate a negative buffer and compute the corresponding linestring. It handles the risk that the negative buffer returns multipolygons 
(on which LineString() function doesn‚Äôt work)
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{polygon}} \textendash{} The shapely Polygon to be negatively buffered

\sphinxlineitem{Return:}
\sphinxAtStartPar
a Linestring corresponding to the edges of the original polygon minus the size of the buffer

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_pci() (in module indexes\_func)@\spxentry{calc\_pci()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_pci}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_pci}}}{\emph{\DUrole{n}{masked}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate the PCI for a set of images. This is based on the number of patches and perimeter
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{masked}} \textendash{} Masked image to calculate the PCI for

\sphinxlineitem{Returns}
\sphinxAtStartPar
The PCI for the image as a function of the number of patches and perimeter ( float

\end{description}\end{quote}

\end{fulllineitems}

\index{calc\_pri() (in module indexes\_func)@\spxentry{calc\_pri()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.calc_pri}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{calc\_pri}}}{\emph{\DUrole{n}{masked}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Calculate pri for landcover. This is based on the number of patches and total area for each class
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{masked}} \textendash{} numpy array of landcover classes

\sphinxlineitem{Returns}
\sphinxAtStartPar
pri for landcover in range 0.. 1 where 0 is no patches and 1 is

\end{description}\end{quote}

\end{fulllineitems}

\index{count\_landcover\_patches() (in module indexes\_func)@\spxentry{count\_landcover\_patches()}\spxextra{in module indexes\_func}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{indexes_func:indexes_func.count_landcover_patches}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{indexes\_func.}}\sphinxbfcode{\sphinxupquote{count\_landcover\_patches}}}{\emph{\DUrole{n}{masked}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Count the patches (defined as contiguous cells having the same digital number) in a landcover raster
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{raster}} \textendash{} An array

\sphinxlineitem{Returns}
\sphinxAtStartPar
The number of patches in the raster

\end{description}\end{quote}

\end{fulllineitems}


\sphinxstepscope


\section{main module}
\label{\detokenize{main:module-main}}\label{\detokenize{main:main-module}}\label{\detokenize{main::doc}}\index{module@\spxentry{module}!main@\spxentry{main}}\index{main@\spxentry{main}!module@\spxentry{module}}\index{main() (in module main)@\spxentry{main()}\spxextra{in module main}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{main:main.main}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{main.}}\sphinxbfcode{\sphinxupquote{main}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
main function used to launch the processing. It‚Äôs kept without parameters for now because it may be
amended with parameters like an administrative divisions list so that it may be parallelized using multiprocessing

\end{fulllineitems}



\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{c}
\item\relax\sphinxstyleindexentry{compute\_indexes}\sphinxstyleindexpageref{compute_indexes:\detokenize{module-compute_indexes}}
\indexspace
\bigletter{i}
\item\relax\sphinxstyleindexentry{indexes\_func}\sphinxstyleindexpageref{indexes_func:\detokenize{module-indexes_func}}
\indexspace
\bigletter{m}
\item\relax\sphinxstyleindexentry{main}\sphinxstyleindexpageref{main:\detokenize{module-main}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}